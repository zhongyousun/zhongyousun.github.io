<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	
	<meta property="fb:app_id" content="725315935966817" />
	<title>C# Multi-threading principle, asynchronous usage and parameter with custom objects - Sun Notes</title>
	<script>(function (d, e) { d[e] = d[e].replace("no-js", "js"); })(document.documentElement, "className");</script>
	<meta name="description"
		content="C# multi-threading principle, asynchronous usage and parameter with custom objects records">
	<meta property="og:title" content="C# Multi-threading principle, asynchronous usage and parameter with custom objects" />
<meta property="og:description" content="C# multi-threading principle, asynchronous usage and parameter with custom objects records" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://sunnote.xyz/tutorials/csharp-multithreading/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-19T11:49:15+08:00" />
<meta property="article:modified_time" content="2023-01-19T11:49:15+08:00" /><meta property="og:site_name" content="Sun Notes" />

	<meta itemprop="name" content="C# Multi-threading principle, asynchronous usage and parameter with custom objects">
<meta itemprop="description" content="C# multi-threading principle, asynchronous usage and parameter with custom objects records"><meta itemprop="datePublished" content="2023-01-19T11:49:15+08:00" />
<meta itemprop="dateModified" content="2023-01-19T11:49:15+08:00" />
<meta itemprop="wordCount" content="816">
<meta itemprop="keywords" content="Csharp," />
	<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="C# Multi-threading principle, asynchronous usage and parameter with custom objects"/>
<meta name="twitter:description" content="C# multi-threading principle, asynchronous usage and parameter with custom objects records"/>

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700" >

	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">

	<link rel="shortcut icon" href="/favicon.ico">
	
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MWPM4C5TJS"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-MWPM4C5TJS', { 'anonymize_ip': false });
}
</script>


</head>

<body class="body">
	
	<script>
		window.fbAsyncInit = function() {
		  FB.init({
			appId      : '725315935966817',
			xfbml      : true,
			version    : 'v16.0'
		  });
		  FB.AppEvents.logPageView();
		};
	  
		(function(d, s, id){
		   var js, fjs = d.getElementsByTagName(s)[0];
		   if (d.getElementById(id)) {return;}
		   js = d.createElement(s); js.id = id;
		   js.src = "https://connect.facebook.net/en_US/sdk.js";
		   fjs.parentNode.insertBefore(js, fjs);
		 }(document, 'script', 'facebook-jssdk'));
	  </script>


	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="Sun Notes" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">Sun Notes</div>
					<div class="logo__tagline">Life is tough, but so are you.</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">‚ò∞Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="https://sunnote.xyz/info/" >
				
				<span class="menu__text">üìÉAbout me</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/search" >
				
				<span class="menu__text">üîçSite Search</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/archives" >
				
				<span class="menu__text">üóÑÔ∏èArchives</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/zh-tw" >
				
				<span class="menu__text">üåê</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-MWPM4C5TJS', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>






		<div class="wrapper flex">
			<div class="primary">
				




<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C# Multi-threading principle, asynchronous usage and parameter with custom objects</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2023-01-19T11:49:15&#43;08:00">January 19, 2023</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/program/" rel="category">Program</a>
	</span>
</div>
<div class="meta__item-translations meta__item">
	<span class="meta__text">Translations: <a class="meta__link" href="/zh-tw/tutorials/csharp-multithreading/">ZH-TW</a>
	</span>
</div>

				
				
				<span>„ÄÄüí¨ : 1170 words</span>
				<span>| 4 min read.</span>
				


				<span id="busuanzi_container_page_pv">
					„ÄÄüëÅ‚Äçüó®Ô∏è : <span
						id="busuanzi_value_page_pv"></span>

				</span>

			</div>


			<div id="fb-root"></div>
			<script async defer crossorigin="anonymous"
				src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v16.0&appId=725315935966817&autoLogAppEvents=1"
				nonce="aF40iZ15"></script>
		</header>
		
<div class="post__toc toc">
	<div class="toc__title">Page content</div>
	<div class="toc__menu">
		<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#foreword">Foreword</a></li>
        <li><a href="#principle">Principle</a></li>
        <li><a href="#use">Use</a></li>
        <li><a href="#example">Example</a></li>
        <li><a href="#pass-parameters-with-custom-objects">Pass parameters with custom objects</a></li>
        <li><a href="#asynchronous-programming-with-async-and-awaitto-be-continued">Asynchronous programming with async and await(to be continued)</a></li>
      </ul>
    </li>
  </ul>
</nav>
	</div>
</div><div class="content post__content clearfix">
			<p>The principle of C# multi-threading, asynchronous usage and parameter with custom objects records.<br>
None of the projects encountered so far have a hard requirement to use multi-threading. This article is to record my own understanding and learning process.</p>
<h3 id="foreword">Foreword</h3>
<p>I had a project that has a file pre-store function, because there are new files to be updated every day, it needs to be executed pre-store function every day. The original way of programming is to download part A and then download part B. I would like to try new way with multi-threaded. The main reason why I want to try jsut it is too annoying when I test part B every time in the process, I always need to wait a lot of time (the amount of data is too large) until part A to finish.</p>
<h3 id="principle">Principle</h3>
<p>First you must understand the difference between Program /Process/ Thread.</p>
<ol>
<li><strong>Program</strong> : Program code that has not yet been loaded into memory.</li>
<li><strong>Process</strong> : For a Program that has been executed and loaded into the memory, each line of code in the program may be executed by the CPU at any time.</li>
<li><strong>Thread</strong> : There will be many Threads in the same Process, and each Thread is responsible for a certain function.</li>
</ol>
<p>Take the factory as an example:</p>
<p><strong>Program</strong> = Detailed manufacturing drawings and staffing of the factory<br>
<strong>Process</strong> = factory already in operation<br>
<strong>Thread</strong> = Every worker in the factory</p>
<p>When programs are executed, they are executed line by line in order, similar to the way workers in a factory complete their tasks in order. This will cause the problem that the program is executed for too long and inefficiency. If the workers can perform their own tasks at the same time (multiple threads), the efficiency will be much faster, but the disadvantage is that when the hardware is insufficient (similar to factory space too small), too many workers performing tasks together will rob each other of resources and cause the program <strong>Deadlock</strong>.</p>
<h3 id="use">Use</h3>
<p>Situations where multithreading is commonly used include:</p>
<ol>
<li>Multiple tasks need to be executed at the same time, and there is no relationship between these tasks. For example, downloading multiple files at the same time or calculating multiple values.</li>
<li>Need to wait for a long-running task, but don&rsquo;t want to make the interface uninteractive. For example, executing a database query in another execution line running at the same time.</li>
<li>Need to perform a task, but do not want to block other tasks because of it. For example, executing a network connection in another execution line running at the same time.</li>
<li>Tasks need to be executed on multiple cores to take advantage of the performance of multi-core CPUs.</li>
</ol>
<h3 id="example">Example</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#66d9ef">using</span> System.Threading;
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>Thread thread1 = <span style="color:#66d9ef">new</span> Thread(Task1); 
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>thread1.Start();
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>Thread thread2 = <span style="color:#66d9ef">new</span> Thread(Task2);
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>thread2.Start();
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span>Console.WriteLine(<span style="color:#e6db74">&#34;Completed&#34;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>Console.ReadKey();
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> Task1()
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; <span style="color:#ae81ff">5</span>; i++)
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span>    {
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span>        Console.WriteLine(<span style="color:#e6db74">&#34;Task 1&#34;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span>        Thread.Sleep(<span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span>}
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> Task2()
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; <span style="color:#ae81ff">5</span>; i++)
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span><span>    {
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span><span>        Console.WriteLine(<span style="color:#e6db74">&#34;Task 2&#34;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span><span>        Thread.Sleep(<span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span><span>}
</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>Completed
Task 1
Task 2
Task 1
Task 2
Task 1
Task 2
Task 1
Task 2
Task 2
Task 1
</code></pre><p><strong>Why does &ldquo;Completed&rdquo; appear first?</strong><br>
This is because in the above code, two threads are started at the same time, and the main thread does not wait for either thread to complete, but immediately writes &ldquo;Completed&rdquo; and ends the program. Therefore, no matter which thread completes first, the program will write &ldquo;Completed&rdquo; first.</p>
<p>If you want to wait for thread2 to complete, you can use thread2.Join() to make the main thread wait for thread2 to complete, and then execute <code>Console.WriteLine(&quot;Completed&quot;);</code>.</p>
<h3 id="pass-parameters-with-custom-objects">Pass parameters with custom objects</h3>
<p>In actual use, the thread often needs to be executed with parameters. You can use ParameterizedThreadStart. ParameterizedThreadStart is a delegate, which points to a method with an object parameter and no return value. So when using ParameterizedThreadStart delegation, you need to pass in an object type parameter.<br>
But usually the data type is not object, most of them are JObject or self-defined types, the following is the implementation method.</p>
<p>Create corresponding objects for different execution threads</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#75715e">// Create an object to hold the list</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ListContainer1</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>    {
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>        <span style="color:#66d9ef">public</span> List&lt;<span style="color:#66d9ef">dynamic</span>&gt; TheList { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ListContainer2</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span>    {
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span><span>        <span style="color:#66d9ef">public</span> List&lt;customize&gt; TheList { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span><span>    }
</span></span></code></pre></div><p>Pass <code>List&lt;dynamic&gt;</code> customize_obj to Task1, get customize_obj in Task1 function and execute</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span>List&lt;<span style="color:#66d9ef">dynamic</span>&gt; customize_obj  = <span style="color:#66d9ef">new</span> List&lt;<span style="color:#66d9ef">dynamic</span>&gt;();
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span><span style="color:#66d9ef">var</span> listContainer1 = <span style="color:#66d9ef">new</span> ListContainer1 { TheList = customize_obj };
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span><span style="color:#75715e">// create new thread</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>Thread t1 = <span style="color:#66d9ef">new</span> Thread(<span style="color:#66d9ef">new</span> ParameterizedThreadStart(Task1));
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span><span style="color:#75715e">// pass parameters and start thread</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>t1.Start(listContainer1);
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span><span style="color:#66d9ef">void</span> Task1(Object listContainer)
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span>    <span style="color:#75715e">// get customize_obj</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>    ListContainer1 container = (ListContainer1)listContainer;
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span>    List&lt;<span style="color:#66d9ef">dynamic</span>&gt; customize_obj = container.TheList;
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span>    <span style="color:#75715e">//...</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span>    <span style="color:#75715e">//code</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span>    <span style="color:#75715e">//...</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span>}
</span></span></code></pre></div><h3 id="asynchronous-programming-with-async-and-awaitto-be-continued">Asynchronous programming with async and await(to be continued)</h3>
		</div>
		<br>
		<br>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/csharp/" rel="tag">Csharp</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Alvin avatar" src="/img/avatar.jpg" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">
			<a href="../../info/" target="_blank" style="text-decoration:none;color:rgb(2, 1, 1);">
			About Alvin ‚òÄÔ∏è
		    </a>
		</span>
	</div>
	<div class="authorbox__description">
		Life is about pursuing a sense of accomplishment while messing around.
	</div>
</div>


<section class="comments">
	
	
</section>

<div>
	<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img
			src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a>
</div>



<style>
	.nav {
		display: inline-flex;
		position: relative;
		overflow: hidden;
		max-width: 100%;
		background-color: #fff;
		padding: 0 20px;
		border-radius: 40px;
		box-shadow: 0 10px 40px rgba(255, 255, 255, 0.8);
		display: flex;
		justify-content: center;

	}

	.nav-item {
		color: #83818c;
		padding: 20px;
		text-decoration: none;
		transition: .3s;
		margin: 0 6px;
		z-index: 1;
		font-family: 'DM Sans', sans-serif;
		font-weight: 500;
		position: relative;

		&:before {
			content: "";
			position: absolute;
			bottom: -6px;
			left: 0;
			width: 100%;
			height: 5px;
			background-color: #dfe2ea;
			border-radius: 8px 8px 0 0;
			opacity: 0;
			transition: .3s;
		}
	}

	.nav-item:not(.is-active):hover:before {
		opacity: 1;
		bottom: 0;
	}


	.nav-item:not(.is-active):hover {
		color: #333;
	}

	.nav-indicator {
		position: absolute;
		left: 0;
		bottom: 0;
		height: 4px;
		transition: .5s;
		height: 5px;
		z-index: 1;
		border-radius: 8px 8px 0 0;
	}

	.nav-item {
		border: none;
		outline: none;
		background-color: #fff;
	}

	@media (max-width: 580px) {
		.nav {
			overflow: auto;
		}
	}
</style>
<br>

<nav class="nav">
	<button id="fb-btn" class="nav-item is-active" active-color="#ACD6FF">Facebook</button>
	<button id="github-btn" class="nav-item" active-color="#ACD6FF">Github</button>
	<button id="disqus-btn" class="nav-item" active-color="#ACD6FF">Disqus</button>
	<span class="nav-indicator"></span>
</nav>

<script>
	const indicator = document.querySelector('.nav-indicator');
	const items = document.querySelectorAll('.nav-item');

	function handleIndicator(el) {
		items.forEach(item => {
			item.classList.remove('is-active');
			item.removeAttribute('style');
		});

		indicator.style.width = `${el.offsetWidth}px`;
		indicator.style.left = `${el.offsetLeft}px`;
		indicator.style.backgroundColor = el.getAttribute('active-color');

		el.classList.add('is-active');
		el.style.color = el.getAttribute('active-color');
	}


	items.forEach((item, index) => {
		item.addEventListener('click', (e) => { handleIndicator(e.target) });
		item.classList.contains('is-active') && handleIndicator(item);
	});


</script>
<br><br>


<div id="disqus-comments" class="comments markdown" style="display: none;">
	<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    
    
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'sun';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>


</div>

<div id="utterances-comments" class="comments markdown" style="display: none;">
	<script src="https://utteranc.es/client.js" repo="zhongyousun/messageboard" issue-term="pathname"
		theme="github-light" crossorigin="anonymous" async>
		</script>
</div>

<div id="facebook-comments" class="fb-comments" data-href="http://sunnote.xyz/tutorials/csharp-multithreading/" data-width="100%" data-numposts="5"
	data-csp="true" data-order-by="reverse_time" style="display: block;"></div>


<script>

	
	const githubBtn = document.getElementById("github-btn");
	const disqusBtn = document.getElementById("disqus-btn");
	const fbBtn = document.getElementById("fb-btn");

	
	const githubBoard = document.getElementById("utterances-comments");
	const disqusBoard = document.getElementById("disqus-comments");
	const fbBoard = document.getElementById("facebook-comments");
	
	githubBtn.addEventListener("click", function () {
		githubBoard.style.display = "block";
		disqusBoard.style.display = "none";
		fbBoard.style.display = "none";
	});
	disqusBtn.addEventListener("click", function () {
		githubBoard.style.display = "none";
		disqusBoard.style.display = "block";
		fbBoard.style.display = "none";
	});
	fbBtn.addEventListener("click", function () {
		githubBoard.style.display = "none";
		disqusBoard.style.display = "none";
		fbBoard.style.display = "block";
	});
</script>



			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			
			
			<li class="widget__item"><a class="widget__link" href="/tutorials/hugo-multiple-comments/">Implementing Multiple Comment Sections in a Static Website Generated by Hugo</a></li>
			
			
			<li class="widget__item"><a class="widget__link" href="/tutorials/sql-partition-by/">SQL-implement data partitioning (partition by)</a></li>
			
			
			<li class="widget__item"><a class="widget__link" href="/tutorials/csharp-multithreading/">C# Multi-threading principle, asynchronous usage and parameter with custom objects</a></li>
			
			
			<li class="widget__item"><a class="widget__link" href="/tutorials/csharp-enum/">C# Enum Usage Record</a></li>
			
			
			<li class="widget__item"><a class="widget__link" href="/tutorials/sql-merge-into-statement/">SQL-merge into statement</a></li>
			
			
			<li class="widget__item"><a class="widget__link" href="/tutorials/leetcode-lru-cache-medium-python/">Leetcode(Medium) 146. LRU Cache (Python)</a></li>
			
			
			<li class="widget__item"><a class="widget__link" href="/cebu/residential_area/">Study tour in Cebu - Cebu residential area</a></li>
			
			
			<li class="widget__item"><a class="widget__link" href="/cebu/bohol-island-day-tour-tarsier-chocolate-hills/">Study tour in Cebu - Bohol island Day Tour (Tarsier &#43; Chocolate Hills)</a></li>
		</ul>
	</div>
</div>
<div class="widget-categories widget">
	<h4 class="widget__title">Categories</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item">
				<a class="widget__link" href="/categories/life-record/">Life Record</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">8</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/overseas-travel/">Overseas Travel</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">8</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/program/">Program</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">6</span>
				</li>
		</ul>
	</div>
</div><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://cse.google.com/cse">
		<label>
			<input class="widget-search__field" type="search" placeholder="SITE SEARCH‚Ä¶" value="" name="q" aria-label="SITE SEARCH‚Ä¶">
		</label>
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="http://sunnote.xyz">
		<input type="hidden" name="cx" value="51cfcdef3e098403d" />
	</form>
</div>

<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/cebu/" title="Cebu">Cebu (8)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/csharp/" title="Csharp">Csharp (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/hugo/" title="Hugo">Hugo (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/language-school/" title="Language School">Language School (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/leetcode/" title="LeetCode">LeetCode (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/philippines/" title="Philippines">Philippines (8)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/python/" title="Python">Python (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/sql/" title="SQL">SQL (2)</a>
	</div>
</div><a href="https://info.flagcounter.com/8Z5p"><img src="https://s11.flagcounter.com/countxl/8Z5p/bg_FFFFFF/txt_000000/border_FFFFFF/columns_2/maxflags_12/viewers_3/labels_1/pageviews_1/flags_0/percent_0/" alt="Flag Counter" border="0"></a>
<br>
<br>
<br>
</aside>


		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 Sun.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>

		</div>

		<span id="busuanzi_container_site_uv">
			üóø : <span id="busuanzi_value_site_uv"></span>
		  </span>
	</div>
	
</footer>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6706017277983363"
     crossorigin="anonymous"></script>

<script src="/js/copy-to-clipboard.js"></script>
	</div>
	<script async defer src="/%20js/menu.js"></script>
	<script src="/js/custom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>

	<button id="toggle-sidebar"><img src="/svg/glasses_lightgray.svg"></button>


	

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.9.0/css/all.css">
	
	<div class="scene scene--card sundarkmodep">
		<div class="card">
			<div class="card__face card__face--front"><span class="fa fa-moon" aria-hidden="true"></div>
			<div class="card__face card__face--back"><span class="fa fa-sun" aria-hidden="true"></div>
		</div>
	</div>
	
	<script type="text/javascript">
		var card = document.querySelector('.card');
		card.addEventListener('click', function () {
			card.classList.toggle('is-flipped');
		});
	</script>



	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

	

	<script>
		$('.sundarkmodep').click(function () {
			if ($('*').hasClass("darkmodecolor")) {
				localStorage.setItem("darkmodeStatus", "sunmode");
			} else if (!$('.main-body').hasClass("darkmodecolor")) {
				localStorage.setItem("darkmodeStatus", "darkmode");
			}
			$('*').toggleClass("darkmodecolor");
		});

		var darkmodeStatus = localStorage.getItem("darkmodeStatus");

		if (darkmodeStatus == "darkmode") {
			$('*').addClass("darkmodecolor");
		}
	</script>


</body>

</html>


</script>



<script src="https://sunnote.xyz/js-pkg/BackToTopButton.js"></script>
<script>addBackToTop({
		diameter: 52,
		backgroundColor: 'rgb(172, 214, 255)',
		textColor: '#fff',
		scrollDuration: 300,
		showWhenScrollTopIs: 800
	})</script>





<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>


<script>
	const toggleButton = document.getElementById('toggle-sidebar');
	const asideElement = document.querySelector("aside.sidebar");
	toggleButton.addEventListener('click', function () {
		if (asideElement.style.display === 'none') {
			asideElement.style.display = 'block';
			document.querySelector(".toc-side").className = "post__toc toc";
		} else {
			asideElement.style.display = 'none';
			document.querySelector(".post__toc.toc").className = "toc-side";
		}
	});
</script>